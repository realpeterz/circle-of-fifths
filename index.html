<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle of Fifths Keyboard</title>
    <meta name="description" content="Interactive circle of fifths keyboard for learning keys, chords, and harmonic relationships. Explore major and minor moods with real-time chord and piano input.">
    <meta name="robots" content="index, follow">
    <meta name="application-name" content="Circle of Fifths Keyboard">
    <meta name="theme-color" content="#050505">
    <meta property="og:title" content="Circle of Fifths Keyboard">
    <meta property="og:description" content="Interactive circle of fifths keyboard for learning keys, chords, and harmonic relationships. Explore major and minor moods with real-time chord and piano input.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Circle of Fifths Keyboard">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Circle of Fifths Keyboard">
    <meta name="twitter:description" content="Interactive circle of fifths keyboard for learning keys, chords, and harmonic relationships. Explore major and minor moods with real-time chord and piano input.">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Circle of Fifths Keyboard",
        "description": "Interactive circle of fifths keyboard for learning keys, chords, and harmonic relationships. Explore major and minor moods with real-time chord and piano input.",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web",
        "inLanguage": "en",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "browserRequirements": "Requires Web Audio API and a modern browser."
    }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <h1>Circle of Fifths Keyboard</h1>
        <div class="subtitle">Piano Keyboard (D = Middle C) · Circle (Caps = Minor) · Multi-Note Detection</div>
        <div class="seo-blurb">Interactive circle of fifths keyboard for learning keys, chords, and harmonic relationships with real-time piano input.</div>
    </header>

    <div class="app-container">
        <!-- Expanded Viewbox 170x170 for extra padding -->
        <svg viewBox="0 0 170 170" id="wheel"></svg>
        
        <div class="center-hub" id="hub">
            <div class="hub-label" id="hub-label">C</div>
            <div class="hub-mood" id="hub-mood">Select a key</div>
            <div class="hub-instructions">Press multiple keys for dyads, triads & chords</div>
        </div>

        <!-- Educational Content Panel -->
        <div class="chord-display" id="chord-display">
            <div class="chord-info-block">
                <span class="chord-title" id="cd-name">C Major</span>
            </div>
            <div class="divider"></div>
            <div class="chord-info-block">
                <span class="chord-notes" id="cd-notes">C - E - G</span>
                <span class="chord-intervals" id="cd-intervals">Root - 3rd - 5th</span>
            </div>
        </div>
    </div>

    <div class="controls-bar">
        <div class="control-group">
            <span>Instrument</span>
            <div class="btn-row">
                <select id="instrument-select" style="background: rgba(255,255,255,0.05); border: 1px solid #444; color: #aaa; padding: 2px 8px; border-radius: 4px; font-size: 0.65rem;">
                    <option value="default">Analog Synth</option>
                    <option value="piano">Studio Piano</option>
                    <option value="felt_piano">Felt Piano</option>
                    <option value="e_piano">Electric Piano</option>
                    <option value="organ">Organ</option>
                    <option value="strings">Strings</option>
                    <option value="pad">Airy Pad</option>
                    <option value="guitar">Nylon Guitar</option>
                    <option value="harp">Harp</option>
                    <option value="bass">Bass</option>
                    <option value="brass">Brass</option>
                    <option value="flute">Flute</option>
                    <option value="choir">Choir</option>
                    <option value="bell">Bell</option>
                    <option value="mallet">Mallet</option>
                </select>
            </div>
        </div>
        <div class="divider"></div>
        <div class="control-group">
            <span>Piano Keys</span>
            <div class="btn-row" style="font-size: 0.42rem; color: #888; margin-top: 4px; font-family: monospace; white-space: pre;"> W   R T   U I O   [ </div>
            <div class="btn-row" style="font-size: 0.42rem; color: #666; margin-top: 2px; font-family: monospace; white-space: pre;">Bb  DbEb  F#Ab Bb  Db</div>
            <div class="btn-row" style="font-size: 0.42rem; color: #888; margin-top: 2px; font-family: monospace; white-space: pre;">A S D F G H J K L ; '</div>
            <div class="btn-row" style="font-size: 0.42rem; color: #666; margin-top: 2px; font-family: monospace; white-space: pre;">A B C D E F G A B C D</div>
        </div>
        <div class="divider"></div>
        <div class="control-group">
            <span>Circle Mode</span>
            <div class="btn-row">
                <div class="caps-indicator" id="caps-light"></div>
                <span class="caps-text" id="caps-text" style="font-size: 0.6rem;">CAPS LOCK</span>
            </div>
            <div class="btn-row" style="font-size: 0.42rem; color: #888; margin-top: 2px;">
                Home: <span class="key-badge" style="padding: 2px 6px; font-size: 0.42rem;">D</span> = C <span class="key-badge" style="padding: 2px 6px; font-size: 0.42rem;">A</span> = Am
            </div>
        </div>
        <div class="divider"></div>
        <div class="control-group">
            <span>Chord</span>
            <div class="btn-row" style="font-size: 0.48rem; color: #888;">
                <span class="key-badge">⇧</span> · <span class="key-badge">⌃</span> · <span class="key-badge">⌥</span>
            </div>
        </div>
        <div class="divider"></div>
        <div class="control-group">
            <span>Octave</span>
            <div class="btn-row">
                <span class="key-badge">↑ ↓</span> <span id="octave-display" style="color: #aaa; min-width: 20px; text-align: center;">0</span>
            </div>
        </div>
        <div class="divider"></div>
        <div class="control-group">
            <span>Temp Shift</span>
            <div class="btn-row" style="font-size: 0.55rem;">
                <span class="key-badge">Space</span> <span class="key-badge">Enter</span>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay">
        <button autofocus class="start-btn" onclick="startApp()" onkeydown="if (event.key === 'Enter') startApp()">START ENGINE</button>
    </div>

<script src="app.js"></script>
</body>
</html>
